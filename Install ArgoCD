# Install ArgoCD

sudo apt-get update
sudo apt-get install -y apt-transport-https ca-certificates curl
curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
echo "deb https://apt.kubernetes.io/ kubernetes-xenial main" | sudo tee -a /etc/apt/sources.list.d/kubernetes.list
sudo apt-get update
sudo apt-get install -y kubectl

curl -sSL -o /tmp/argocd-linux-amd64 https://github.com/argoproj/argo-cd/releases/download/v2.7.0/argocd-linux-amd64
chmod +x /tmp/argocd-linux-amd64
sudo mv /tmp/argocd-linux-amd64 /usr/local/bin/argocd
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yml
kubectl get pods -n argocd
kubectl port-forward svc/argocd-server -n argocd 8081:80
kubectl -n argocd get pods -l app.kubernetes.io/name=argocd-server -o name


# Using Kubernetes
kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml

kubectl get namespace
kubectl get pods -n argocd
kubectl get svc -n argocd
kubectl edit svc argocd-server -n argocd
kubectl get svc -n argocd
kubectl port-forward svc/argocd-server -n argocd 8081.80


# ArgoCD Password
kubectl get secret argocd-initial-admin-secret -n argocd -o jsonpath="{.data.password}" | base64 -d

